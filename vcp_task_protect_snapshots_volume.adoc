---
sidebar: sidebar 
permalink: vcp_task_protect_snapshots_volume.html 
summary: 데이터 복사본을 필요한 곳에 생성 및 저장할 수 있습니다. 
keywords: netapp, hci, vcp, vcenter, element, protect, snapshots, clone, backup, amazon, s3, openstack, swift 
---
= vCenter Server에서 볼륨 스냅샷을 생성하고 관리합니다
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
생성 중 https://docs.netapp.com/us-en/hci/docs/concept_hci_dataprotection.html#volume-snapshots-for-data-protection["볼륨 스냅샷입니다"] 볼륨의 시점 복사본을 생성합니다. 이 프로세스는 시스템 리소스 및 공간의 일량만 차지하기 때문에 스냅샷을 생성하는 속도가 클론 복제보다 빠릅니다.

스냅샷을 사용하여 스냅샷을 생성한 시점의 상태로 볼륨을 롤백할 수 있습니다. 그러나 스냅숏은 볼륨 메타데이터의 복제본이므로 마운트하거나 쓸 수 없습니다.

.옵션
*  a volume snapshot
*  volume snapshot details
*  a volume from a snapshot
*  back a volume to a snapshot
*  up a volume snapshot to an external object store
*  a volume snapshot




== 볼륨 스냅샷을 생성합니다

활성 볼륨의 스냅샷을 생성하여 언제든지 볼륨 이미지를 보존할 수 있습니다.

.단계
. vCenter 플러그인에서 * NetApp Element 관리 * > * 관리 * 를 선택합니다.
+

NOTE: 두 개 이상의 클러스터가 추가된 경우 사용할 클러스터가 탐색 모음에서 선택되었는지 확인합니다.

. 볼륨 * 하위 탭을 선택합니다.
. Active * 보기에서 스냅숏에 사용할 볼륨의 확인란을 선택합니다.
. 작업 * 을 선택합니다.
. 결과 메뉴에서 * 스냅샷 생성 * 을 선택합니다.
. (선택 사항): 스냅샷 생성 대화 상자에서 스냅샷의 이름을 입력합니다.
+

TIP: 이름 지정 모범 사례를 설명합니다. 이 기능은 사용자 환경에서 여러 클러스터 또는 vCenter Server를 사용하는 경우에 특히 중요합니다. 이름을 입력하지 않으면 스냅샷이 생성된 날짜와 시간을 사용하여 스냅샷 기본 이름이 생성됩니다.

. (선택 사항) 상위 볼륨이 페어링될 때 스냅샷이 복제되도록 하려면 * Include snapshot in replication when paired * 확인란을 선택합니다.
. 스냅샷의 보존 기간으로 다음 중 하나를 선택합니다.
+
** * 영구 보관 *: 시스템의 스냅샷을 무기한 유지합니다.
** * 보존 기간 설정 *: 시스템에서 스냅샷을 보존할 시간(일, 시간 또는 분)을 결정합니다.
+

NOTE: 보존 기간을 설정할 때 현재 시간에 시작하는 기간을 선택합니다. (보존은 스냅샷 생성 시간으로부터 계산되지 않습니다.)



. 즉각적인 단일 스냅샷을 촬영하려면 * 지금 스냅샷 촬영 * 을 선택합니다.
. 스냅샷을 나중에 실행하도록 예약하려면 다음 단계를 완료합니다.
+
.. Create snapshot schedule * 을 선택합니다.
.. 일정 이름을 입력합니다.
.. 일정 유형을 선택하고 일정 세부 정보를 구성합니다.
.. (선택 사항) 예약된 스냅샷을 주기적으로 반복하려면 * recurrent Schedule * 에 대한 확인란을 선택합니다.


. OK * 를 선택합니다.




== 볼륨 스냅샷 세부 정보를 봅니다

스냅샷이 추가되었는지 확인할 수 있습니다.

.단계
. vCenter 플러그인에서 * NetApp Element 관리 * > * 보호 * 를 선택합니다.
+

NOTE: 두 개 이상의 클러스터가 추가된 경우 사용할 클러스터가 탐색 모음에서 선택되었는지 확인합니다.

. 스냅샷 * 하위 탭을 선택합니다.
. (선택 사항) 다음 필터 중 하나를 선택합니다.
+
** * 개별 *: 그룹 스냅샷의 구성원이 아닌 볼륨 스냅샷입니다.
** * 구성원 *: 그룹 스냅샷의 구성원인 볼륨 스냅숏입니다.
** * Inactive *: 삭제되었으나 아직 삭제되지 않은 볼륨에서 생성된 볼륨 스냅샷입니다.


. 스냅샷 세부 정보를 봅니다.




== 스냅숏에서 볼륨의 클론을 생성합니다

볼륨의 스냅숏에서 새 볼륨을 생성할 수 있습니다. 이렇게 하면 시스템이 스냅샷 정보를 사용하여 스냅샷을 생성할 때 볼륨에 포함된 데이터를 사용하여 새 볼륨을 복제합니다. 또한 이 프로세스에서는 새로 생성된 볼륨에 있는 볼륨의 다른 스냅샷에 대한 정보도 저장합니다.

.단계
. vCenter 플러그인에서 * NetApp Element 관리 * > * 보호 * 를 선택합니다.
+

NOTE: 두 개 이상의 클러스터가 추가된 경우 사용할 클러스터가 탐색 모음에서 선택되었는지 확인합니다.

. 스냅샷 * 하위 탭을 선택합니다.
. 다음 두 보기 중 하나를 선택합니다.
+
** * 개별 *: 그룹 스냅샷의 구성원이 아닌 볼륨 스냅샷을 나열합니다.
** * 구성원 *: 그룹 스냅샷의 구성원인 볼륨 스냅숏을 나열합니다.


. 볼륨으로 복제할 볼륨 스냅숏의 확인란을 선택합니다.
. 작업 * 을 선택합니다.
. 결과 메뉴에서 * Clone Volume from Snapshot * 을 선택합니다.
. 볼륨 이름, 총 크기를 입력하고 새 볼륨의 GB 또는 GiB를 선택합니다.
. 볼륨에 대한 액세스 유형을 선택합니다.
+
** * 읽기 전용 *: 읽기 작업만 허용됩니다.
** * 읽기/쓰기 *: 읽기 및 쓰기 작업이 모두 허용됩니다.
** * 잠김 *: 읽기 또는 쓰기 작업이 허용되지 않습니다.
** * 복제 타겟 *: 복제된 볼륨 페어에서 타겟 볼륨으로 지정됩니다.


. 새 볼륨과 연결할 사용자 계정을 선택합니다.
. OK * 를 선택합니다.
. 새 볼륨을 확인합니다.
+
.. NetApp Element 관리 * > * 관리 * 를 선택합니다.
.. 볼륨 * 하위 탭을 선택합니다.
.. Active * (활성 *) 보기에서 새 볼륨이 나열되는지 확인합니다.
+

TIP: 필요한 경우 페이지를 새로 고칩니다.







== 볼륨을 스냅샷으로 롤백합니다

언제든지 볼륨을 스냅샷으로 롤백할 수 있습니다. 이렇게 하면 스냅샷이 생성된 이후 볼륨에 대한 모든 변경 사항이 해제됩니다.

.단계
. vCenter 플러그인에서 * NetApp Element 관리 * > * 보호 * 를 선택합니다.
+

NOTE: 두 개 이상의 클러스터가 추가된 경우 사용할 클러스터가 탐색 모음에서 선택되었는지 확인합니다.

. 스냅샷 * 하위 탭을 선택합니다.
. 다음 두 보기 중 하나를 선택합니다.
+
** * 개별 *: 그룹 스냅샷의 구성원이 아닌 볼륨 스냅샷을 나열합니다.
** * 구성원 *: 그룹 스냅샷의 구성원인 볼륨 스냅숏을 나열합니다.


. 볼륨 롤백에 사용할 볼륨 스냅숏의 확인란을 선택합니다.
. 작업 * 을 선택합니다.
. 결과 메뉴에서 * Rollback Volume to Snapshot * 을 선택합니다.
. (선택 사항) 스냅샷으로 롤백하기 전에 볼륨의 현재 상태를 저장하려면
+
.. 스냅샷으로 롤백 대화 상자에서 * 볼륨의 현재 상태를 스냅샷으로 저장 * 을 선택합니다.
.. 새 스냅샷의 이름을 입력합니다.


. OK * 를 선택합니다.




== 볼륨 스냅숏을 외부 개체 저장소에 백업합니다

통합 백업 기능을 사용하여 볼륨 스냅샷을 백업할 수 있습니다. NetApp Element 소프트웨어를 실행하는 클러스터의 스냅샷을 외부 오브젝트 저장소 또는 다른 요소 기반 클러스터에 백업할 수 있습니다.

외부 개체 저장소에 스냅샷을 백업할 때 읽기/쓰기 작업을 허용하는 개체 저장소에 대한 연결이 있어야 합니다.

*  up a volume snapshot to an Amazon S3 object store
*  up a volume snapshot to an OpenStack Swift object store
*  up a volume snapshot to a cluster running Element software




=== 볼륨 스냅샷을 Amazon S3 오브젝트 저장소에 백업합니다

NetApp Element S3와 호환되는 외부 오브젝트 저장소에 스냅샷을 백업할 수 있습니다.

.단계
. vCenter 플러그인에서 * NetApp Element 관리 * > * 보호 * 를 선택합니다.
+

NOTE: 두 개 이상의 클러스터가 추가된 경우 사용할 클러스터가 탐색 모음에서 선택되었는지 확인합니다.

. 스냅샷 * 하위 탭을 선택합니다.
. 백업할 볼륨 스냅숏의 확인란을 선택합니다.
. 작업 * 을 선택합니다.
. 결과 메뉴에서 * Backup to * 를 선택합니다.
. 볼륨 백업 대상 * 아래의 대화 상자에서 * Amazon S3 * 를 선택합니다.
. 다음 데이터 형식을 사용하여 * 에서 옵션을 선택합니다.
+
** * 기본 *: NetApp Element 소프트웨어 기반 스토리지 시스템에서만 읽을 수 있는 압축 형식입니다.
** * 비압축 *: 다른 시스템과 호환되는 비압축 형식입니다.


. 세부 정보를 입력합니다.
+
** * 호스트 이름 *: 오브젝트 저장소에 액세스하는 데 사용할 호스트 이름을 입력합니다.
** * 액세스 키 ID *: 계정의 액세스 키 ID를 입력합니다.
** * 비밀 액세스 키 *: 계정의 비밀 액세스 키를 입력합니다.
** * Amazon S3 버킷 *: 백업을 저장할 S3 버킷을 입력합니다.
** * 접두사 *: (선택 사항) 백업 이름의 접두사를 입력합니다.
** * nametag *: (선택 사항) 접두사에 추가할 이름 태그를 입력합니다.


. OK * 를 선택합니다.




=== OpenStack Swift 오브젝트 저장소에 볼륨 스냅샷을 백업합니다

NetApp Element 스냅샷을 OpenStack Swift와 호환되는 2차 오브젝트 저장소에 백업할 수 있습니다.

.단계
. vCenter 플러그인에서 * NetApp Element 관리 * > * 보호 * 를 선택합니다.
+

NOTE: 두 개 이상의 클러스터가 추가된 경우 사용할 클러스터가 탐색 모음에서 선택되었는지 확인합니다.

. 스냅샷 * 하위 탭을 선택합니다.
. 백업할 볼륨 스냅숏의 확인란을 선택합니다.
. 작업 * 을 선택합니다.
. 결과 메뉴에서 * Backup to * 를 선택합니다.
. 대화 상자의 * 볼륨 백업 대상 * 에서 * OpenStack Swift * 를 선택합니다.
. 다음 데이터 형식을 사용하여 * 에서 옵션을 선택합니다.
+
** * 기본 *: NetApp Element 소프트웨어 기반 스토리지 시스템에서만 읽을 수 있는 압축 형식입니다.
** * 비압축 *: 다른 시스템과 호환되는 비압축 형식입니다.


. 세부 정보를 입력합니다.
+
** * URL *: 오브젝트 저장소에 액세스하는 데 사용할 URL을 입력합니다.
** * 사용자 이름 *: 계정의 사용자 이름을 입력합니다.
** * 인증 키 *: 계정의 인증 키를 입력합니다.
** * 컨테이너 *: 백업을 저장할 컨테이너를 입력합니다.
** * 접두사 *: (선택 사항) 백업 볼륨 이름의 접두사를 입력합니다.
** * nametag *: (선택 사항) 접두사에 추가할 이름 태그를 입력합니다.


. OK * 를 선택합니다.




=== Element 소프트웨어를 실행하는 클러스터에 볼륨 스냅샷을 백업합니다

NetApp Element 소프트웨어를 실행하는 클러스터에 있는 볼륨 스냅샷을 원격 Element 클러스터에 백업할 수 있습니다.

백업에 사용 중인 스냅샷과 크기가 같거나 큰 대상 클러스터에 볼륨을 생성해야 합니다.

한 클러스터에서 다른 클러스터로 백업 또는 복구할 경우 시스템에서 클러스터 간 인증으로 사용할 키를 생성합니다. 이 대량 볼륨 쓰기 키를 사용하면 소스 클러스터가 대상 클러스터를 인증할 수 있으므로 대상 볼륨에 쓸 때 보안이 제공됩니다. 백업 또는 복원 프로세스의 일부로 작업을 시작하기 전에 대상 볼륨에서 대량 볼륨 쓰기 키를 생성해야 합니다.

.단계
. vCenter 플러그인에서 * NetApp Element 관리 * > * 관리 * 를 선택합니다.
+

NOTE: 두 개 이상의 클러스터가 추가된 경우 사용할 클러스터가 탐색 모음에서 선택되었는지 확인합니다.

. 볼륨 * 하위 탭을 선택합니다.
. 대상 볼륨에 대한 확인란을 선택합니다.
. 작업 * 을 선택합니다.
. 결과 메뉴에서 * Restore from * 을 선택합니다.
. 복원 위치 * 아래의 대화 상자에서 * NetApp Element * 를 선택합니다.
. 다음 데이터 형식을 사용하여 * 에서 옵션을 선택합니다.
+
** * 기본 *: NetApp Element 소프트웨어 기반 스토리지 시스템에서만 읽을 수 있는 압축 형식입니다.
** * 비압축 *: 다른 시스템과 호환되는 비압축 형식입니다.


. 대상 볼륨에 대한 대량 볼륨 쓰기 키를 생성하려면 * Generate Key * (키 생성 *)를 선택합니다.
. 대용량 볼륨 쓰기 키를 클립보드에 복사하여 소스 클러스터의 이후 단계에 적용합니다.
. 소스 클러스터가 포함된 vCenter에서 * NetApp Element 관리 * > * 보호 * 를 선택합니다.
+

NOTE: 두 개 이상의 클러스터가 추가된 경우 탐색 모음에서 작업에 사용할 클러스터가 선택되었는지 확인합니다.

. 백업에 사용 중인 스냅샷의 확인란을 선택합니다.
. 작업 * 을 선택합니다.
. 결과 메뉴에서 * Backup to * 를 선택합니다.
. 대화 상자의 * 볼륨 백업 대상 * 에서 * NetApp Element * 를 선택합니다.
. 다음 데이터 형식을 사용하여 * 에서 대상 클러스터와 같은 옵션을 선택합니다 *.
. 세부 정보를 입력합니다.
+
** * 원격 클러스터 MVIP *: 대상 볼륨 클러스터의 관리 가상 IP 주소를 입력합니다.
** * 원격 클러스터 사용자 암호 *: 원격 클러스터 사용자 이름을 입력합니다.
** * 원격 사용자 암호 *: 원격 클러스터 암호를 입력합니다.
** * 대량 볼륨 쓰기 키 *: 이전에 대상 클러스터에서 생성한 키를 붙여 넣습니다.


. OK * 를 선택합니다.




== 볼륨 스냅숏을 삭제합니다

NetApp Element 관리 확장 지점을 사용하여 NetApp Element 소프트웨어를 실행하는 클러스터에서 볼륨 스냅샷을 삭제할 수 있습니다. 스냅샷을 삭제하면 시스템에서 즉시 스냅샷을 제거합니다.

소스 클러스터에서 복제 중인 스냅샷을 삭제할 수 있습니다. 스냅샷을 삭제할 때 스냅샷이 타겟 클러스터와 동기화되는 경우 동기화 복제가 완료되고 소스 클러스터에서 스냅샷이 삭제됩니다. 스냅샷이 타겟 클러스터에서 삭제되지 않습니다.

타겟 클러스터에서 타겟으로 복제된 스냅샷을 삭제할 수도 있습니다. 삭제된 스냅샷은 소스 클러스터에서 스냅샷을 삭제했다는 것을 시스템이 감지할 때까지 타겟의 삭제된 스냅샷 목록에 유지됩니다. 타겟이 소스 스냅샷을 삭제했다는 것을 감지한 후 타겟은 스냅샷 복제를 중지합니다.

.단계
. vCenter 플러그인에서 * NetApp Element 관리 * > * 보호 * 를 선택합니다.
+

NOTE: 두 개 이상의 클러스터가 추가된 경우 사용할 클러스터가 탐색 모음에서 선택되었는지 확인합니다.

. Snapshots * 하위 탭에서 다음 보기 중 하나를 선택합니다.
+
** * 개별 *: 그룹 스냅숏에 속하지 않은 볼륨 스냅숏의 목록입니다.
** * Inactive *: 삭제되었으나 아직 삭제되지 않은 볼륨에서 생성된 볼륨 스냅숏의 목록입니다.


. 삭제할 볼륨 스냅숏의 확인란을 선택합니다.
. 작업 * 을 선택합니다.
. 결과 메뉴에서 * 삭제 * 를 선택합니다.
. 작업을 확인합니다.




== 자세한 내용을 확인하십시오

* https://docs.netapp.com/us-en/hci/index.html["NetApp HCI 문서"^]
* https://www.netapp.com/data-storage/solidfire/documentation["SolidFire 및 요소 리소스 페이지입니다"^]

